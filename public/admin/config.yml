local_backend: true

backend:
  name: git-gateway
  branch: main

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

collections:
  - name: "home"
    label: "Главная"
    files:
      - name: "home"
        label: "Контент главной"
        file: "content/home.json"
        format: "json"
        fields:
          - { label: "Hero title", name: "hero_title", widget: "string" }
          - { label: "Hero subtitle", name: "hero_subtitle", widget: "text" }
          - label: "Hero CTA primary"
            name: "hero_cta_primary"
            widget: "object"
            fields:
              - { label: "Text", name: "text", widget: "string" }
              - { label: "Href", name: "href", widget: "string" }
          - label: "Hero CTA secondary"
            name: "hero_cta_secondary"
            widget: "object"
            fields:
              - { label: "Text", name: "text", widget: "string" }
              - { label: "Href", name: "href", widget: "string" }
          - { label: "About preview", name: "about_preview", widget: "text" }
          - { label: "Featured count", name: "featured_count", widget: "number", default: 6 }

  - name: "about"
    label: "О проекте"
    files:
      - name: "about"
        label: "Страница \"О проекте\""
        file: "content/about.json"
        format: "json"
        fields:
          - { label: "Hero title", name: "heroTitle", widget: "string" }
          - { label: "Hero subtitle", name: "heroSubtitle", widget: "string" }
          - { label: "Hero lead", name: "heroLead", widget: "markdown" }
          - { label: "Primary CTA text", name: "heroPrimaryCtaText", widget: "string" }
          - { label: "Primary CTA href", name: "heroPrimaryCtaHref", widget: "string", default: "/join" }
          - { label: "Secondary CTA text", name: "heroSecondaryCtaText", widget: "string" }
          - { label: "Secondary CTA href", name: "heroSecondaryCtaHref", widget: "string", default: "/heroes" }
          - { label: "Hero note", name: "heroNote", widget: "string", required: false }
          - label: "Sections"
            name: "sections"
            widget: "list"
            fields:
              - { label: "Section id", name: "id", widget: "string" }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Body", name: "body", widget: "markdown", required: false }
              - label: "Variant"
                name: "variant"
                widget: "select"
                options: ["text", "cards", "timeline", "bullets", "cta"]
              - label: "Items"
                name: "items"
                widget: "list"
                required: false
                fields:
                  - { label: "Icon key", name: "icon", widget: "string", required: false }
                  - { label: "Title", name: "title", widget: "string", required: false }
                  - { label: "Description", name: "description", widget: "markdown", required: false }
                  - { label: "Href", name: "href", widget: "string", required: false }
          - label: "Final CTA title"
            name: "finalCtaTitle"
            widget: "string"
          - label: "Final CTA text"
            name: "finalCtaText"
            widget: "markdown"
          - label: "Final CTA primary text"
            name: "finalCtaPrimaryText"
            widget: "string"
          - label: "Final CTA primary href"
            name: "finalCtaPrimaryHref"
            widget: "string"
            default: "/join"
          - label: "Final CTA secondary text"
            name: "finalCtaSecondaryText"
            widget: "string"
            required: false
          - label: "Final CTA secondary href"
            name: "finalCtaSecondaryHref"
            widget: "string"
            required: false

  - name: "join"
    label: "Как стать участником"
    files:
      - name: "join"
        label: "Страница \"Стать участником\""
        file: "content/join.json"
        format: "json"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Subtitle", name: "subtitle", widget: "text" }
          - { label: "Steps", name: "steps", widget: "list" }
          - label: "FAQ section"
            name: "faqSection"
            widget: "object"
            fields:
              - { label: "Title", name: "title", widget: "string", default: "FAQ" }
              - { label: "Subtitle", name: "subtitle", widget: "text", required: false }
              - label: "Items"
                name: "items"
                widget: "list"
                fields:
                  - { label: "Question", name: "question", widget: "string", maxLength: 120 }
                  - { label: "Answer", name: "answer", widget: "text", maxLength: 1200 }
                  - { label: "Order", name: "order", widget: "number", required: false }
                  - { label: "Featured", name: "isFeatured", widget: "boolean", required: false }
              - label: "Behavior"
                name: "behavior"
                widget: "object"
                fields:
                  - label: "Mode"
                    name: "mode"
                    widget: "select"
                    options:
                      - { label: "Single", value: "single" }
                      - { label: "Multi", value: "multi" }
                    default: "single"
                  - { label: "Default open index", name: "defaultOpenIndex", widget: "number", required: false }
              - label: "CTA"
                name: "cta"
                widget: "object"
                fields:
                  - { label: "Primary label", name: "primaryLabel", widget: "string", required: false }
                  - { label: "Primary href", name: "primaryHref", widget: "string", required: false }
                  - { label: "Secondary label", name: "secondaryLabel", widget: "string", required: false }
                  - { label: "Secondary href", name: "secondaryHref", widget: "string", required: false }
          - label: "CTA"
            name: "cta"
            widget: "object"
            fields:
              - { label: "Text", name: "text", widget: "string" }
              - { label: "Href", name: "href", widget: "string" }
          - { label: "Notes", name: "notes", widget: "list" }

  - name: "heroes"
    label: "Герои"
    folder: "content/heroes"
    create: true
    slug: "{{name}}"
    identifier_field: "name"
    format: "frontmatter"
    extension: "md"
    fields:
      - { label: "Name", name: "name", widget: "string" }
      - { label: "Photo", name: "photo", widget: "image" }
      - { label: "Position", name: "position", widget: "text", required: false }
      - { label: "Short phrase", name: "short_phrase", widget: "text" }
      - { label: "Tags", name: "tags", widget: "list", required: false }
      - { label: "Weight", name: "weight", widget: "number", default: 0 }
      - label: "Socials"
        name: "socials"
        widget: "list"
        required: false
        fields:
          - { label: "Type", name: "type", widget: "string" }
          - { label: "URL", name: "url", widget: "string" }
      - { label: "Published", name: "published", widget: "boolean", default: true }
      - { label: "Full story", name: "body", widget: "markdown" }
